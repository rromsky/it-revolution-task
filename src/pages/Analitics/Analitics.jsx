import { useEffect, useState } from "react";
import { Link } from "react-router-dom";
import { getAnalytics } from "../../services";
const Analitics = () => {
  const [data, setData] = useState({});
  useEffect(() => {
    const token = localStorage.getItem("token");
    getAnalytics(token).then((data) => {
      if (data) setData(data);
    });
    console.log(data);
  }, []);

  return (
    <>
      <div className="notifications">
        <div className="goOut">
          <svg
            width="89"
            height="83"
            viewBox="0 0 89 92"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M18.4167 92C16.3771 92 14.6317 91.2499 13.1805 89.7498C11.7293 88.2497 11.0025 86.4442 11 84.3333V30.6667C11 28.5583 11.7268 26.7541 13.1805 25.254C14.6342 23.7539 16.3796 23.0026 18.4167 23H44.375V30.6667H18.4167V84.3333H44.375V92H18.4167ZM59.2083 76.6667L54.1094 71.1083L63.5656 61.3333H33.25V53.6667H63.5656L54.1094 43.8917L59.2083 38.3333L77.75 57.5L59.2083 76.6667Z"
              fill="#C43E18"
            />
          </svg>
          <svg
            width="89"
            height="92"
            viewBox="0 0 87 92"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M81.5625 36.6562C81.5625 61.8125 46.2901 82.1747 44.788 83.0156C44.3921 83.2408 43.9496 83.3587 43.5 83.3587C43.0504 83.3587 42.6079 83.2408 42.212 83.0156C40.7099 82.1747 5.4375 61.8125 5.4375 36.6562C5.4438 30.7489 7.66572 25.0855 11.6158 20.9084C15.5659 16.7313 20.9216 14.3817 26.5078 14.375C33.5256 14.375 39.67 17.5662 43.5 22.9605C47.33 17.5662 53.4744 14.375 60.4922 14.375C66.0784 14.3817 71.4341 16.7313 75.3842 20.9084C79.3343 25.0855 81.5562 30.7489 81.5625 36.6562Z"
              fill="#C43E18"
            />
            <path
              d="M43.69 64.3977C42.4968 64.3788 41.3036 64.1515 40.1104 63.7159C38.9173 63.2803 37.8282 62.5464 36.8434 61.5142C35.8585 60.4725 35.0678 59.0663 34.4712 57.2955C33.8746 55.5152 33.5763 53.2803 33.5763 50.5909C33.5763 48.0152 33.8178 45.733 34.3008 43.7443C34.7837 41.7462 35.4845 40.0653 36.4031 38.7017C37.3216 37.3286 38.4296 36.2869 39.7269 35.5767C41.0337 34.8665 42.5063 34.5114 44.1445 34.5114C45.7733 34.5114 47.2222 34.8381 48.4911 35.4915C49.7695 36.1354 50.8112 37.035 51.6161 38.1903C52.421 39.3456 52.9419 40.6761 53.1786 42.1818H49.7127C49.3907 40.875 48.7657 39.7907 47.8377 38.929C46.9097 38.0672 45.6786 37.6364 44.1445 37.6364C41.8907 37.6364 40.1152 38.6165 38.8178 40.5767C37.5299 42.5369 36.8813 45.2879 36.8718 48.8295H37.0991C37.6294 48.0246 38.2591 47.3381 38.9883 46.7699C39.7269 46.1922 40.5413 45.7472 41.4315 45.4347C42.3216 45.1222 43.2638 44.9659 44.2582 44.9659C45.9248 44.9659 47.4495 45.3826 48.832 46.2159C50.2146 47.0398 51.3226 48.1809 52.1559 49.6392C52.9892 51.0881 53.4059 52.75 53.4059 54.625C53.4059 56.4242 53.0034 58.072 52.1985 59.5682C51.3936 61.0549 50.262 62.2386 48.8036 63.1193C47.3548 63.9905 45.6502 64.4167 43.69 64.3977ZM43.69 61.2727C44.8832 61.2727 45.9532 60.9744 46.9002 60.3778C47.8567 59.7812 48.6095 58.9811 49.1587 57.9773C49.7174 56.9735 49.9968 55.8561 49.9968 54.625C49.9968 53.4223 49.7269 52.3286 49.1871 51.3438C48.6568 50.3494 47.9229 49.5587 46.9854 48.9716C46.0574 48.3845 44.9968 48.0909 43.8036 48.0909C42.904 48.0909 42.0659 48.2708 41.2894 48.6307C40.5129 48.9811 39.8311 49.464 39.244 50.0795C38.6663 50.6951 38.2118 51.4006 37.8803 52.196C37.5489 52.982 37.3832 53.8106 37.3832 54.6818C37.3832 55.8371 37.6531 56.9167 38.1928 57.9205C38.7421 58.9242 39.4902 59.7339 40.4371 60.3494C41.3936 60.965 42.4779 61.2727 43.69 61.2727Z"
              fill="white"
            />
          </svg>
          <svg
            width="82"
            height="82"
            viewBox="0 0 82 82"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10.25 5.125H5.125V71.75C5.125 73.1092 5.66495 74.4128 6.62608 75.3739C7.5872 76.335 8.89077 76.875 10.25 76.875H76.875V71.75H10.25V5.125Z"
              fill="#C43E18"
            />
            <path
              d="M76.875 23.0625H58.9375V28.1875H68.1369L48.6875 47.6369L37.6944 36.6181C37.4562 36.3779 37.1727 36.1873 36.8605 36.0572C36.5482 35.9271 36.2133 35.8601 35.875 35.8601C35.5367 35.8601 35.2018 35.9271 34.8895 36.0572C34.5773 36.1873 34.2938 36.3779 34.0556 36.6181L15.375 55.3244L18.9881 58.9375L35.875 42.0506L46.8681 53.0694C47.1063 53.3096 47.3898 53.5002 47.702 53.6303C48.0143 53.7604 48.3492 53.8274 48.6875 53.8274C49.0258 53.8274 49.3607 53.7604 49.673 53.6303C49.9852 53.5002 50.2687 53.3096 50.5069 53.0694L71.75 31.8006V41H76.875V23.0625Z"
              fill="#C43E18"
            />
          </svg>
        </div>
        <div className="menuButton">
          <Link to="/">
            <svg
              width="82"
              height="82"
              viewBox="0 0 82 82"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M43.4155 7.83434C42.7748 7.19381 41.9059 6.83398 40.9999 6.83398C40.0939 6.83398 39.225 7.19381 38.5843 7.83434L14.6677 31.751L7.83433 38.5843C7.508 38.8995 7.24771 39.2765 7.06865 39.6934C6.88958 40.1102 6.79533 40.5586 6.79139 41.0122C6.78745 41.4659 6.87389 41.9158 7.04569 42.3357C7.21748 42.7556 7.47118 43.1371 7.79198 43.4579C8.11278 43.7787 8.49426 44.0324 8.91415 44.2041C9.33405 44.3759 9.78395 44.4624 10.2376 44.4584C10.6913 44.4545 11.1396 44.3603 11.5565 44.1812C11.9733 44.0021 12.3503 43.7418 12.6655 43.4155L13.6666 42.4144V64.9166C13.6666 67.6351 14.7465 70.2422 16.6687 72.1644C18.591 74.0867 21.1981 75.1666 23.9166 75.1666H58.0832C60.8017 75.1666 63.4088 74.0867 65.3311 72.1644C67.2533 70.2422 68.3332 67.6351 68.3332 64.9166V42.4144L69.3343 43.4155C69.9787 44.0379 70.8418 44.3823 71.7376 44.3745C72.6335 44.3667 73.4904 44.0074 74.1239 43.3739C74.7574 42.7404 75.1167 41.8835 75.1245 40.9876C75.1323 40.0918 74.7879 39.2287 74.1655 38.5843L43.4155 7.83434Z"
                fill="#C43E18"
              />
            </svg>
          </Link>
        </div>
      </div>
      <div className="analiticsBlock">
        <div className="staticBlock">
          <div className="countSeaAnimal">
            <h2>
              Кількість живих мешканців:{" "}
              {Object.values(data).reduce((acc, el) => {
                return el.live + acc;
              }, 0)}
            </h2>
          </div>
          <div className="countDieadSeaAnimal">
            \
            <h2>
              Кількість мертвих мешканців:
              {Object.values(data).reduce((acc, el) => {
                return el.dead + acc;
              }, 0)}
            </h2>
          </div>
          <div className="countGirlSeaAnimal">
            <h2>
              Кількість дівчат:
              {Object.values(data).reduce((acc, el) => {
                return el?.female || 0 + acc;
              }, 0)}
            </h2>
          </div>
          <div className="countBoySeaAnimal">
            <h2>
              Кількість хлопців:
              {Object.values(data).reduce((acc, el) => {
                return el?.male + acc;
              }, 0)}
            </h2>
          </div>
        </div>
        <div className="graphsBlock">
          <div className="graphs">
            <h2>Графік частоти годування по дням:</h2>
          </div>
          <div className="graphs2">
            <h2>Графік частоти очищення акваріуму по тижням:</h2>
          </div>
        </div>
      </div>
    </>
  );
};

export default Analitics;
